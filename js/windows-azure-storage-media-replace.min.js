var replaceMedia=function(a){var t;t?t.open():(t=wp.media.frames.file_frame=wp.media({title:AzureMediaReplaceObject.i18n.title,button:{text:AzureMediaReplaceObject.i18n.replaceMediaButton},multiple:!1}).on("select",function(){var e=t.state().get("selection").first().toJSON();jQuery.ajax({type:"post",url:AzureMediaReplaceObject.ajaxUrl,data:{action:"azure-storage-media-replace",current_attachment:a,nonce:AzureMediaReplaceObject.nonce,replace_attachment:e.id},dataType:"JSON",success:function(e){var a=e.attachment_data.url.replace(e.file_name,""),t=e.attachment_data.sizes.medium.file,i=a+t;console.log(a),console.log(t),console.log(i),console.log(jQuery(".media-modal").find(".details-image")),console.log(jQuery(".attachments-wrapper").find('li[data-id="'+e.ID+'"]').find("img").first()),jQuery(".media-modal").find(".details-image").attr("src",e.attachment_data.url),jQuery(".attachments-wrapper").find('li[data-id="'+e.ID+'"]').find("img").first().attr("src",i),jQuery(".attachments-wrapper").find('li[data-id="'+e.old_ID+'"]').remove(),console.log(e)}})})).open()};!function(e,a,t){"use strict";e(document).ready(function(){console.log(e("#azure-media-replacement")),e("#azure-media-replacement").on("click",function(e){e.preventDefault(),wp.media.editor.open()})})}(jQuery);